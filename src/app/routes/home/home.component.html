<app-navbar />
<div class="w-full min-h-svh  grid lg:grid-cols-2 space-x-5 px-12 py-6">
  <div class="grid grid-rows-2 rounded-lg gap-2">


    <div class="w-full max-w-full relative  text-green-400 font-mono rounded-lg shadow-lg overflow-hidden">
      <!-- Header estilo barra de ventana -->
      <div class="flex items-center px-4 py-2  border-b border-gray-700">
        <div class="flex space-x-2">
          <span class="w-3 h-3 bg-red-500 rounded-full"></span>
          <span class="w-3 h-3 bg-yellow-500 rounded-full"></span>
          <span class="w-3 h-3 bg-green-500 rounded-full"></span>
        </div>
        <span class="ml-4 text-sm text-gray-300">terminal — cesr</span>
      </div>
    
      <!-- Contenido de la "terminal" -->
      <div class="px-4 py-3 text-sm absolute bottom-0 space-y-1" [contentEditable]="true" >
        <p><span class="text-green-500">cesr</span>:~$ echo "¡Hola mundo!"</p>
        <p>"¡Hola mundo!"</p>
        <p><span class="text-green-500">cesr</span>:~$</p>
      </div>
    </div>
    
    <div class="overflow-y-auto rounded-2xl  shadow-lg border border-base-200   p-4 ">
      <h3 class="text-2xl text-center">Confirmados</h3>
      <ol class="flex flex-col gap-3 mt-6">
        @if (FilesConfirmResponse) {
          @for (item of FilesConfirmResponse.data; track $index) {
            <li class="p-2 border border-base-300 rounded-md font-mono shadow-sm flex flex-col">
              <span>{{item.archivo}}</span>
              <span class="text-success">{{item.respuesta.mensaje}}</span>
              <span class="link text-xs text-cyan-400">{{item.respuesta.ruta_remota}}</span>
            </li>
          }

        }

        
      </ol>
    </div>
  </div>

  <div class=" h-full relative shadow-lg border border-base-200 py-12 px-6 grid grid-row-[1fr_1fr_auto] min-h-screen  ">
    <form
    (submit)="handleSubmitFile()"
    enctype="application/x-www-form-urlencoded"
    >
    <h3 class="text-3xl my-4">Previsualizar</h3>
      <div class="flex border rounded-md border-dashed border-base-300 w-full">
        <label
          for="dropzone-file"
          class="flex flex-col items-center justify-center w-full h-64 rounded-lg cursor-pointer"
        >
          <div class="flex flex-col items-center justify-center pt-5 pb-6">
            <svg
              class="w-8 h-8 mb-4"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 20 16"
            >
              <path
                stroke="currentColor"
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"
              />
            </svg>
            <p class="mb-2 text-sm">
              <span class="font-semibold">Click para cargar</span> or arrastra y
              suelta
            </p>
            <p class="text-xs text-gray-500 dark:text-gray-400">ZIP</p>
          </div>
          <input id="dropzone-file" type="file" class="hidden" />
        </label>
      </div>
    </form>

    <div class="p-4 text-sm">
      @if (FilesResponse) {
        <h2 class="text-base font-semibold mb-2">Archivos cargados</h2>
    
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center gap-2  p-3 rounded-lg shadow-sm mb-4">
          <span class="kbd ">
            {{ FilesResponse.nombre_zip }}
          </span>
          <span class="font-monoink text-cyan-400 underline break-all">
            {{ FilesResponse.ruta_remota }}
          </span>
        </div>
    
        <div class="max-h-64 overflow-y-auto space-y-2 list-col gap-2">
          @for (item of FilesResponse.archivos; track $index) {
            <div class=" list-row border-base-300 ">
              <span class=" font-mono  break-words">{{ item }}</span>
            </div>
          }
        </div>
      } @else {
        <div class="w-full h-48 bg-red-100 text-red-600 font-semibold flex items-center justify-center rounded-lg border border-red-300">
          No hay archivos guardados
        </div>
      }
    </div>
    

     <div class="gap-2 relative  grid grid-cols-3  w-full ">
      <button
        class="btn w-full uppercase btn-neutral"
        (click)="handleSubmitFile()"
      >
        Previsualizacion
      </button>
      <button
        class="btn w-full uppercase btn-primary"
        (click)="handleSubmitConfirmFiles()"
      >
        Confirmar
      </button>
      <button class="btn w-full btn-error uppercase">Cancelar</button>
    </div> 
  </div>
</div>
